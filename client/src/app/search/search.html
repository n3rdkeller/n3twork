<br><br>
<div ng-controller="SearchCtrl as search">
<!--   <pre>Model: {{search.selectedUser | json}}</pre>
  <input autofocus type="text" ng-model="search.selectedUser" typeahead="user.username for user in search.userlist | filter:{ firstname: user.firstname, lastname: user.lastname, username: user.username} | limitTo:4" typeahead-min-length=3 class="form-control">
   -->
  <div class="row">
    <form novalidate name="searchForm" ng-submit="search.loadSearchList(searchForm.$valid, search.searchString)" class="col-md-offset-3 col-md-6">
      <div class="form-group">
        <input required autofocus ng-minlength=3 ng-readonly="search.firstLoading || search.secondLoading" type="search" ng-model="search.searchString" class="form-control input-lg" placeholder="Type search string and press enter">
      </div>
    </form>
  </div><br>
  <div class="row">
    <ul class="media-list" ng-class="{ 'col-sm-offset-1 col-sm-5 col-md-offset-3 col-md-4': filteredUserSearch.length > 0 }">
      <li class="media" ng-repeat="user in filteredUserSearch = (search.userlist | filter: search.submittedSearchString)Â | orderBy: 'user.username' | limitTo:8">
        <span class="media-left media-middle">
          <i class="fa fa-user fa-fw fa-3x"></i>
        </span>
        <div class="media-body">
          <h4 class="media-heading">
            <a class="media-left media-middle" ng-href="#/user/{{ user.username }}">
              <span ng-show="user.firstname">
                <span ng-bind="::user.firstname"></span>
                <span ng-show="user.lastname" ng-bind="::user.lastname"></span> (
              </span>
              <span ng-bind="::user.username"></span>
              <span ng-show="user.firstname">)</span>
            </a>
          </h4>
          <span ng-bind="::user.email"></span>
          <span ng-bind="::user.city"></span>
        </div>
      </li>
    </ul>
    <ul class="media-list" ng-class="{ 'col-sm-5 col-md-4': filteredUserSearch.length > 0, 'col-md-offset-3 col-md-6': filteredUserSearch.length == 0 }">
      <li class="media" ng-repeat="group in filteredGroupSearch = (search.grouplist | filter: search.submittedSearchString) | orderBy: 'group.groupName' | limitTo:8">
        <span class="media-left media-middle">
          <i class="fa fa-users fa-fw fa-3x"></i>
        </span>
        <div class="media-body">
          <h4 class="media-heading">
            <a class="media-left media-middle" ng-href="#/group/{{ group.groupId }}">
              <span ng-bind="::group.groupName"></span>
            </a>
          </h4>
          <span ng-bind="::group.groupDescr"></span>
        </div>
      </li>
    </ul>
  </div>
</div>
